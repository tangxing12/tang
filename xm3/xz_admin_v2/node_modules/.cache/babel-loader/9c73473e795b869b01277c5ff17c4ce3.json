{"remainingRequest":"D:\\my\\VueUI\\Vue项目空白模板\\xz_admin_v2\\node_modules\\babel-loader\\lib\\index.js!D:\\my\\VueUI\\Vue项目空白模板\\xz_admin_v2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\my\\VueUI\\Vue项目空白模板\\xz_admin_v2\\src\\components\\subcomponents\\comment.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\my\\VueUI\\Vue项目空白模板\\xz_admin_v2\\src\\components\\subcomponents\\comment.vue","mtime":1535601716922},{"path":"D:\\my\\VueUI\\Vue项目空白模板\\xz_admin_v2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853417988},{"path":"D:\\my\\VueUI\\Vue项目空白模板\\xz_admin_v2\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\my\\VueUI\\Vue项目空白模板\\xz_admin_v2\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from 'mint-ui';\nexport default {\n  data: function data() {\n    return {\n      mag: \"\",\n      pingmsg: [],\n      //页码1\n      pno: 1\n    };\n  },\n  created: function created() {\n    console.log(\"父组件传递\" + this.id);\n  },\n  methods: {\n    //获取评论数据\n    getComment: function getComment() {\n      var nid = this.id;\n      var p = this.pno;\n    },\n    postComment: function postComment() {\n      var _this = this;\n\n      //创建正则表达式验证用户发表内容\n      //双向绑定输入内容\n      var m = this.mag.trim();\n\n      if (m.length < 3) {\n        Toast(\"亲你发表的内容过少 必须大于3个字符\");\n        return;\n      } //如果格式不正确提示\n      //发送ajax请求 请求nid content\n      //在下面，props:[\"id\"] props与data中的差不多可以用.访问\n\n\n      var n = this.id;\n      var url = \"http://127.0.0.1:3000/comment/postcomment?nid=\".concat(n, \"&mag=\").concat(m, \"&username=lily\");\n      this.$http.get(url).then(function (result) {\n        if (result.body.code == 1) {\n          Toast(result.body.msg);\n          _this.mag = \"\";\n        }\n      }); //判断\n    }\n  },\n  //父组件传递的 :id与 [\"id\"]对应 子组件接收参数\n  props: [\"id\"]\n};",{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,WAAA,EADA;AAEA,eAAA,EAFA;AAGA;AACA,WAAA;AAJA,KAAA;AAMA,GARA;AASA,SATA,qBASA;AACA,YAAA,GAAA,CAAA,UAAA,KAAA,EAAA;AACA,GAXA;AAYA,WAAA;AACA;AACA,cAFA,wBAEA;AACA,UAAA,MAAA,KAAA,EAAA;AACA,UAAA,IAAA,KAAA,GAAA;AACA,KALA;AAMA,eANA,yBAMA;AAAA;;AACA;AACA;AACA,UAAA,IAAA,KAAA,GAAA,CAAA,IAAA,EAAA;;AACA,UAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,cAAA,oBAAA;AACA;AACA,OAPA,CAQA;AACA;AACA;;;AACA,UAAA,IAAA,KAAA,EAAA;AACA,UAAA,8DAAA,CAAA,kBAAA,CAAA,mBAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,gBAAA,OAAA,IAAA,CAAA,GAAA;AACA,gBAAA,GAAA,GAAA,EAAA;AACA;AACA,OALA,EAbA,CAmBA;AAEA;AA3BA,GAZA;AAyCA;AACA,SAAA,CAAA,IAAA;AA1CA,CAAA","sourcesContent":["<template>\r\n  <div class=\"comment\">\r\n   <h3>发表评论</h3>\r\n   <hr>\r\n   <textarea placeholder=\"请输入评论内容(最多120字)\" maxlength=\"120\" v-model=\"mag\"></textarea>\r\n   <mt-button type=\"primary\" size=\"large\" @click=\"postComment\">发表评论</mt-button>\r\n\r\n   <!--评论列表-->\r\n   <div class=\"cmt-list\">\r\n      <div class=\"cmt-item\">\r\n         <div class=\"cmt-title\">\r\n           第一楼&nbsp;用户:lili &nbsp;\r\n           发表时间 2018-10-10\r\n         </div>\r\n          <div class=\"cmt-body\">\r\n            东哥有辆小汽车\r\n          </div>\r\n      </div>\r\n   </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {Toast} from 'mint-ui'\r\n    export default{\r\n        data(){\r\n             return{\r\n                 mag:\"\",\r\n                 pingmsg:[],\r\n                 //页码1\r\n                 pno:1\r\n             }\r\n        },\r\n        created() {\r\n            console.log(\"父组件传递\"+this.id)\r\n        },\r\n        methods:{\r\n            //获取评论数据\r\n          getComment(){\r\n              var nid=this.id;\r\n              var p=this.pno;\r\n          },\r\n          postComment(){\r\n              //创建正则表达式验证用户发表内容\r\n              //双向绑定输入内容\r\n             var m = this.mag.trim();\r\n             if(m.length<3){\r\n                 Toast(\"亲你发表的内容过少 必须大于3个字符\");\r\n                 return;\r\n             }\r\n              //如果格式不正确提示\r\n              //发送ajax请求 请求nid content\r\n              //在下面，props:[\"id\"] props与data中的差不多可以用.访问\r\n              var n = this.id;\r\n              var url = `http://127.0.0.1:3000/comment/postcomment?nid=${n}&mag=${m}&username=lily`;\r\n              this.$http.get(url).then(result=>{\r\n                  if(result.body.code == 1){\r\n                      Toast(result.body.msg);\r\n                      this.mag=\"\";\r\n                  }\r\n              })\r\n              //判断\r\n             \r\n          }\r\n        },\r\n        //父组件传递的 :id与 [\"id\"]对应 子组件接收参数\r\n        props:[\"id\"]\r\n    }\r\n</script>\r\n<style >\r\n    .comment h3{\r\n        font-size:18px;\r\n    }\r\n    .comment textarea{\r\n        font-size:14px;\r\n        height:85px;\r\n        margin:0;\r\n    }\r\n    /*评论列表 */\r\n    .comment .cmt-list{\r\n        font-size:15px;\r\n        margin:5px 0;\r\n    }\r\n    .comment .cmt-list .cmt-item{\r\n        font-size:13px;\r\n    \r\n    }\r\n    .comment .cmt-list .cmt-item .cmt-title{\r\n        line-height:30px;\r\n        background-color:#ccc;\r\n\r\n    }\r\n    .comment .cmt-list .cmt-item .cmt-body{\r\n        line-height:30px;\r\n        text-indent:2em;\r\n    }\r\n</style>"],"sourceRoot":"src\\components\\subcomponents"}]}